const Store=require("./dataStorage.min.js"),store=new Store({configName:"user-data",defaults:{besttime:"30:00:00"}}),altCode=16,ctrlCode=17,spaceCode=32;var stopwatch=document.getElementById("stopwatch-display"),new_best_alert=document.getElementById("new-best-alert"),hitime=document.getElementById("hi-time"),timeoutId=null,ms=0,sec=0,min=0,isStarted=!1;store.set("BestTime","30:00:00"),console.log(store.get("BestTime"));function convertToMs(a){var b=a.toString().split(":");let c=parseInt(b[0]),d=parseInt(b[1]),e=parseInt(b[2]),f=6e4*c,g=1e3*d;return console.log(f+g+e),f+g+e}function start(){timeoutId=setTimeout(function(){isStarted=!0,ms=parseInt(ms),sec=parseInt(sec),min=parseInt(min),ms++,100==ms&&(++sec,ms=0),60==sec&&(++min,sec=0),10>ms&&(ms="0"+ms),10>sec&&(sec="0"+sec),10>min&&(min="0"+min),stopwatch.innerHTML=min+":"+sec+":"+ms,start()},10)}function dnf(){ms=0,sec=0,min=0,clearTimeout(timeoutId),stopwatch.innerHTML="DNF",isStarted=!1}function stop(){stopwatch.innerHTML;if(clearTimeout(timeoutId),isStarted=!1,""!=store.get("BestTime")){let a=convertToMs(store.get("BestTime")),b=convertToMs(stopwatch.innerHTML);b<a&&(new_best_alert.innerText="New best!",store.set("BestTime",stopwatch.innerHTML))}else store.set("BestTime","30:00:00"),stop();hitime.innerHTML="Your current fastest solve time is: "+store.get("BestTime")+"!"}function reset(){ms=0,sec=0,min=0,clearTimeout(timeoutId),stopwatch.innerHTML="00:00:00",isStarted=!1,new_best_alert.innerText=""}window.onkeydown=function(a){a.which==spaceCode?!0==isStarted?stop():start():a.which==ctrlCode?reset():a.which==altCode&&dnf()};